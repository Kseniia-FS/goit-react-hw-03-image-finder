{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Image/Image.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","ApiService/fetchImages.jsx","components/Searchbar/Searchbar.jsx","components/Image/image.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","value","handleInputChange","e","setState","currentTarget","handleOnSubmit","preventDefault","trim","props","handleSubmit","clearInput","toast","error","input","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","id","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Image","src","tag","alt","ImageGalleryItemImage","ImageGalleryItem","webformatURL","onSelect","onClick","ImageGallery","images","map","tags","largeImageURL","modalRoot","document","querySelector","Modal","handleBackDropClick","closeModal","target","handleCloseModal","code","window","addEventListener","removeEventListener","createPortal","Overlay","LoaderIcon","bgColor","title","size","Button","handleClick","wrapper","App","selectedImage","isLoading","toggleLoading","handleSelectedImage","imageUrl","prevState","handleScroll","scrollTo","top","documentElement","scrollHeight","behavior","getImages","data","hits","length","catch","console","log","message","finally","prevProps","prevQuery","nextQuery","prevPage","nextPage","notLastPage","showBtn","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68280467.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"wrapper\":\"Button_wrapper__1pHwk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"Image_ImageGalleryItemImage__2aKPh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","const fetchImages = (query, page) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=22576222-4c579c663b204aa5d73730e1c&image_type=photo&orientation=horizontal&per_page=12\n`).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(\"OOOps!\"));\n  });\n};\n\nexport default fetchImages;\n","import React, { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ value: e.currentTarget.value });\n  };\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n\n    const { value } = this.state;\n    if (value.trim() === \"\") {\n      toast.error(\"Write correct query\");\n      return;\n    }\n    this.props.handleSubmit(value);\n    this.setState({ value: \"\" });\n    this.clearInput(e);\n  };\n\n  clearInput = (e) => {\n    e.currentTarget.input.value = \"\";\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            id=\"input\"\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./Image.module.css\";\nconst Image = ({ src, tag }) => {\n  return <img src={src} alt={tag} className={s.ImageGalleryItemImage} />;\n};\n\nexport default Image;\n","import Image from \"../Image/image\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ tag, id, webformatURL, onSelect }) => {\n  return (\n    <li key={id} onClick={onSelect} className={s.ImageGalleryItem}>\n      <Image src={webformatURL} tag={tag} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImagesGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images &&\n        images.map(({ id, webformatURL, tags, largeImageURL }) => {\n          return (\n            <ImagesGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              tag={tags}\n              onSelect={() => onSelect(largeImageURL)}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\nimport Image from \"../Image/image\";\n\nconst modalRoot = document.querySelector(\"#modal\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  handleBackDropClick = (e) => {\n    const { closeModal } = this.props;\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  handleCloseModal = (e) => {\n    const { closeModal } = this.props;\n\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\n        <div className={s.Modal}>\n          <Image src={src} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import Loader from \"react-js-loader\";\n\nconst LoaderIcon = () => {\n  return (\n    <div>\n      <Loader type=\"heart\" bgColor={\"#8406ec\"} title={\"heart\"} size={300} />\n    </div>\n  );\n};\n\nexport default LoaderIcon;\n","import s from \"./Button.module.css\";\n\nconst Button = ({ handleClick }) => {\n  return (\n    <div className={s.wrapper}>\n      <button className={s.Button} type=\"button\" onClick={handleClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport fetchImages from \"./ApiService/fetchImages\";\nimport { toast } from \"react-toastify\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGalerry from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport LoaderIcon from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    selectedImage: null,\n    images: [],\n    page: 1,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.getImages();\n    }\n  }\n  toggleLoading = () => {\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\n  };\n\n  handleSubmit = (query) => {\n    this.setState({ query: query, images: [], page: 1 });\n  };\n\n  handleSelectedImage = (imageUrl) => {\n    this.setState({ selectedImage: imageUrl });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ selectedImage: null });\n  };\n  handleClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  getImages = () => {\n    this.toggleLoading();\n    const { page, query } = this.state;\n\n    fetchImages(query, page)\n      .then((data) => {\n        if (data.hits.length === 0) {\n          toast.error(`Ooops, we cant't find such query! Try again.`);\n          return;\n        }\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...data.hits],\n        }));\n      })\n      .then(this.handleScroll)\n      .catch((error) => console.log(error.message))\n      .finally(this.toggleLoading);\n  };\n\n  render() {\n    const { selectedImage, images, isLoading, page } = this.state;\n    console.log(page);\n    const notLastPage = images.length / page === 12;\n    const showBtn = images.length > 0 && notLastPage;\n    return (\n      <>\n        <Searchbar handleSubmit={this.handleSubmit} />\n        <ImageGalerry images={images} onSelect={this.handleSelectedImage} />\n        {selectedImage && (\n          <Modal src={selectedImage} closeModal={this.handleCloseModal} />\n        )}\n        {isLoading && <LoaderIcon />}\n        {showBtn && <Button handleClick={this.handleClick} />}\n\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}