{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","ApiService/fetchImages.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleInputChange","e","setState","currentTarget","handleOnSubmit","preventDefault","trim","props","handleSubmit","clearInput","toast","error","input","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","id","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImagesGalleryItem","src","tag","alt","ImageGalleryItemImage","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","Button","handleClick","wrapper","onClick","LoaderIcon","bgColor","title","size","ImageGalerry","images","status","prevState","handleScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevQuery","nextQuery","prevPage","nextPage","data","hits","length","onSelect","Loader","ImageGallery","map","webformatURL","tags","largeImageURL","modalRoot","querySelector","Modal","handleBackDropClick","closeModal","target","handleCloseModal","code","addEventListener","removeEventListener","createPortal","Overlay","App","selectedImage","handleSelectedImage","imageUrl","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.de29b443.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"wrapper\":\"Button_wrapper__1pHwk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","import React, { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ value: e.currentTarget.value });\n  };\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n\n    const { value } = this.state;\n    if (value.trim() === \"\") {\n      toast.error(\"Write correct query\");\n      return;\n    }\n    this.props.handleSubmit(value);\n    this.setState({ value: \"\" });\n    this.clearInput(e);\n  };\n\n  clearInput = (e) => {\n    e.currentTarget.input.value = \"\";\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            id=\"input\"\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImagesGalleryItem extends Component {\n  render() {\n    const { src, tag } = this.props;\n    return <img src={src} alt={tag} className={s.ImageGalleryItemImage} />;\n  }\n}\n\nexport default ImagesGalleryItem;\n","const fetchImages = (query, page) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=22576222-4c579c663b204aa5d73730e1c&image_type=photo&orientation=horizontal&per_page=12\n`).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(\"OOOps!\"));\n  });\n};\n\nexport default fetchImages;\n","import { Component } from \"react\";\nimport s from \"./Button.module.css\";\n\nclass Button extends Component {\n  render() {\n    const { handleClick } = this.props;\n    return (\n      <div className={s.wrapper}>\n        <button className={s.Button} type=\"button\" onClick={handleClick()}>\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Button;\n","import Loader from \"react-js-loader\";\n\nconst LoaderIcon = () => {\n  return (\n    <div>\n      <Loader type=\"heart\" bgColor={\"#8406ec\"} title={\"heart\"} size={300} />\n    </div>\n  );\n};\n\nexport default LoaderIcon;\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport ImagesGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport fetchImages from \"../../ApiService/fetchImages\";\nimport Button from \"../Button/Button\";\nimport LoaderIcon from \"../Loader/Loader\";\n\nclass ImageGalerry extends Component {\n  state = {\n    images: [],\n    page: 1,\n    status: \"idle\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const nextQuery = this.props.query;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ status: \"pending\" });\n      fetchImages(nextQuery, nextPage).then((data) => {\n        if (data.hits.length === 0) {\n          toast.error(`Ooops, we cant't find such query! Try again.`);\n          this.setState({ status: \"idle\" });\n          return;\n        }\n        this.setState({ status: \"resolved\", page: 1 });\n        this.setState({\n          images: data.hits,\n        });\n      });\n    }\n\n    if (prevPage !== nextPage) {\n      fetchImages(nextQuery, nextPage)\n        .then((data) =>\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n          }))\n        )\n        .then(this.handleScroll);\n    }\n  }\n  handleClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    const { onSelect } = this.props;\n\n    if (status === \"idle\") {\n      return <></>;\n    }\n\n    if (status === \"pending\") {\n      return <LoaderIcon />;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n              return (\n                <li\n                  key={id}\n                  className=\"ImageGalleryItem\"\n                  onClick={() => onSelect(largeImageURL)}\n                >\n                  <ImagesGalleryItem src={webformatURL} tag={tags} />\n                </li>\n              );\n            })}\n          </ul>\n          {images.length >= 12 && (\n            <Button handleClick={() => this.handleClick} />\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGalerry;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\nimport ImagesGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst modalRoot = document.querySelector(\"#modal\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  handleBackDropClick = (e) => {\n    const { closeModal } = this.props;\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  handleCloseModal = (e) => {\n    const { closeModal } = this.props;\n\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\n        <div className={s.Modal}>\n          <ImagesGalleryItem src={src} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGalerry from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    selectedImage: null,\n  };\n\n  handleSubmit = (query) => {\n    this.setState({ query });\n  };\n\n  handleSelectedImage = (imageUrl) => {\n    this.setState({ selectedImage: imageUrl });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ selectedImage: null });\n  };\n\n  render() {\n    const { query, selectedImage } = this.state;\n    return (\n      <>\n        <Searchbar handleSubmit={this.handleSubmit} />\n        <ImageGalerry query={query} onSelect={this.handleSelectedImage} />\n        {selectedImage && (\n          <Modal src={selectedImage} closeModal={this.handleCloseModal} />\n        )}\n\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}